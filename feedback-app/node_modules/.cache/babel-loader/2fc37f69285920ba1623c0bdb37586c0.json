{"ast":null,"code":"import _slicedToArray from\"/Users/Harshika.Shete/Desktop/Self-Projects/Udemy/React-Front-To-Back/feedback-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useContext,useEffect}from\"react\";import Card from\"../shared/Card\";import Button from\"../shared/Button\";import RatingSelect from\"./RatingSelect\";import FeedbackContext from\"../context/FeedbackContext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function FeedbackForm(){var _useContext=useContext(FeedbackContext),addFeedback=_useContext.addFeedback,editedItem=_useContext.editedItem,updateFeedback=_useContext.updateFeedback;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),text=_useState2[0],setText=_useState2[1];var _useState3=useState(10),_useState4=_slicedToArray(_useState3,2),rating=_useState4[0],setRating=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),btnDisabled=_useState6[0],setBtnDisabled=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),message=_useState8[0],setMessage=_useState8[1];useEffect(function(){if(editedItem.edit===true){setBtnDisabled(false);setText(editedItem.item.text);setRating(editedItem.item.rating);}},[editedItem]);var handleInputChange=function handleInputChange(e){if(text===\"\"){setBtnDisabled(true);setMessage(true);}else if(text!==\"\"&&text.trim().length<10){setMessage(\"Text must be atleast 10 characters\");setBtnDisabled(true);}else{setMessage(null);setBtnDisabled(false);}setText(e.target.value);};var handleSubmit=function handleSubmit(e){e.preventDefault();if(text.trim().length>10){var newFeedback={text:text,rating:rating};if(editedItem.edit===true){updateFeedback(editedItem.item.id,newFeedback);}else{addFeedback(newFeedback);}setText(\"\");setBtnDisabled(true);setRating(10);}};return/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"How would you rate our service with us?\"}),/*#__PURE__*/_jsx(RatingSelect,{select:setRating}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Write a Review\",onChange:handleInputChange,value:text}),/*#__PURE__*/_jsx(Button,{type:\"submit\",isDisabled:btnDisabled,children:\"Send\"})]}),message&&/*#__PURE__*/_jsx(\"div\",{className:\"message\",children:message})]})});}export default FeedbackForm;","map":{"version":3,"names":["useState","useContext","useEffect","Card","Button","RatingSelect","FeedbackContext","FeedbackForm","addFeedback","editedItem","updateFeedback","text","setText","rating","setRating","btnDisabled","setBtnDisabled","message","setMessage","edit","item","handleInputChange","e","trim","length","target","value","handleSubmit","preventDefault","newFeedback","id"],"sources":["/Users/Harshika.Shete/Desktop/Self-Projects/Udemy/React-Front-To-Back/feedback-app/src/components/FeedbackForm.jsx"],"sourcesContent":["import { useState, useContext, useEffect } from \"react\";\nimport Card from \"../shared/Card\";\nimport Button from \"../shared/Button\";\nimport RatingSelect from \"./RatingSelect\";\nimport FeedbackContext from \"../context/FeedbackContext\";\n\nfunction FeedbackForm() {\n  const { addFeedback, editedItem, updateFeedback } =\n    useContext(FeedbackContext);\n  const [text, setText] = useState(\"\");\n  const [rating, setRating] = useState(10);\n  const [btnDisabled, setBtnDisabled] = useState(true);\n  const [message, setMessage] = useState(\"\");\n\n  useEffect(() => {\n    if (editedItem.edit === true) {\n      setBtnDisabled(false);\n      setText(editedItem.item.text);\n      setRating(editedItem.item.rating);\n    }\n  }, [editedItem]);\n\n  const handleInputChange = (e) => {\n    if (text === \"\") {\n      setBtnDisabled(true);\n      setMessage(true);\n    } else if (text !== \"\" && text.trim().length < 10) {\n      setMessage(\"Text must be atleast 10 characters\");\n      setBtnDisabled(true);\n    } else {\n      setMessage(null);\n      setBtnDisabled(false);\n    }\n    setText(e.target.value);\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (text.trim().length > 10) {\n      const newFeedback = {\n        text,\n        rating,\n      };\n      if (editedItem.edit === true) {\n        updateFeedback(editedItem.item.id, newFeedback);\n      } else {\n        addFeedback(newFeedback);\n      }\n      setText(\"\");\n      setBtnDisabled(true);\n      setRating(10);\n    }\n  };\n\n  return (\n    <Card>\n      <form onSubmit={handleSubmit}>\n        <h2>How would you rate our service with us?</h2>\n        <RatingSelect select={setRating} />\n        <div className=\"input-group\">\n          <input\n            type=\"text\"\n            placeholder=\"Write a Review\"\n            onChange={handleInputChange}\n            value={text}\n          ></input>\n          <Button type=\"submit\" isDisabled={btnDisabled}>\n            Send\n          </Button>\n        </div>\n        {message && <div className=\"message\">{message}</div>}\n      </form>\n    </Card>\n  );\n}\n\nexport default FeedbackForm;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}